<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>天气案例_监视简写形式    </title>
    <script src="../js/vue.js"></script>
</head>
<body>
    <div id="root">
        <h1>今天天气很{{info}}</h1>
        <button @click="changeWeather">
            切换天气
        </button>   
        <hr/>
    </div>
    <script type="text/javascript">
        Vue.config.productionTip = false;  //阻止 vue 在启动时生成生产提示
        const vm = new Vue({
            el:"#root",
            data:{
                isHot:true,
            },
            //计算属性
            computed:{
                info(){
                    return this.isHot ? '炎热' : '凉爽';
                }
            },
            methods:{
                changeWeather(){
                    this.isHot = !this.isHot;
                }
            },
        //watch:{
        //     //监视的配置对象
        //     //watch 不仅能监视data的普通属性，还能监视对象中的属性
        //    //isHot:{
        //    //immediate:true,//当这个属性为ture时，页面加载时，立即执行handler函数
        //    //handler什么时候调用呢 
        //    //当isHot 发生改变时，立即调用handler函数 
        //    //handler(newValue,preValue){
        //    //    console.log('ishot 被修改了',newValue,preValue);        //    //deep:true,//当这个属性为ture时，深度监视
        //    //    handler(newValue,preValue){
        //    //    console.log(`当前的值为(newValue)：${newValue},之前的值为(preValue)：${preValue}`); 
        //    //    }
        //    //} 
        //    //简写：
        //    //简写的前提watch的属性不需要immediate和deep属性的时候
        //    isHot(newValue,preValue){ 
        //        console.log(`当前的值为(newValue)：${newValue},之前的值为(preValue)：${preValue}`); 
        //    }
        //}
        });
        //完整语法：
        //vm.$watch('isHot',{
        //    immediate:true,
        //    deep:true,
        //    handler(newValue,preValue){
        //        console.log(`当前的值为(newValue)：${newValue},之前的值为(preValue)：${preValue}`); 
        //    }
        //});
        //简写（前提：不需要immediate和deep ）
        vm.$watch('isHot',function(newValue,preValue){
            //this == vm    
            console.log(`当前的值为(newValue)：${newValue},之前的值为(preValue)：${preValue}`); 
        }); 
    </script>
</body>
</html>